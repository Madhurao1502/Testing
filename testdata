import { Component, Inject } from '@angular/core';
import { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';

export interface ShelfVarDialogData {
  mode: 'add' | 'edit';
  initialName: string;
}

@Component({
  selector: 'app-shelf-var-dialog',
  templateUrl: './shelf-var-dialog.component.html',
  styleUrls: ['./shelf-var-dialog.component.css']
})
export class ShelfVarDialogComponent {
  name: string;

  constructor(
    public dialogRef: MatDialogRef<ShelfVarDialogComponent>,
    @Inject(MAT_DIALOG_DATA) public data: ShelfVarDialogData
  ) {
    this.name = data.initialName || '';
  }

  onCancel(): void {
    this.dialogRef.close(null);
  }

  onConfirm(): void {
    const trimmedName = this.name.trim();
    if (!trimmedName) {
      alert('Name cannot be empty.');
      return;
    }

    // Send name back to caller
    this.dialogRef.close(trimmedName);
  }
}



<h2 mat-dialog-title>
  {{ data.mode === 'add' ? 'Add Shelf Variable' : 'Edit Shelf Variable' }}
</h2>

<div mat-dialog-content>
  <mat-form-field appearance="fill" class="full-width">
    <mat-label>Shelf Variable Name</mat-label>
    <input matInput [(ngModel)]="name" />
  </mat-form-field>
</div>

<div mat-dialog-actions align="end">
  <button mat-button (click)="onCancel()">Cancel</button>
  <button mat-raised-button color="primary" (click)="onConfirm()">
    {{ data.mode === 'add' ? 'Add' : 'Save' }}
  </button>
</div>


.full-width {
  width: 100%;
}
