 private readonly IConfiguration _configuration;

    public YourRepository(IConfiguration configuration)
    {
        _configuration = configuration;
    }

    public async Task<List<YourModel>> GetDataAsync()
    {
        var result = new List<YourModel>();
        var connectionString = _configuration.GetConnectionString("DefaultConnection");

        using (var connection = new SqlConnection(connectionString))
        {
            using (var command = new SqlCommand("YourStoredProcedure", connection))
            {
                command.CommandType = CommandType.StoredProcedure;

                await connection.OpenAsync();

                using (var adapter = new SqlDataAdapter(command))
                {
                    var dataTable = new DataTable();
                    adapter.Fill(dataTable);

                    foreach (DataRow row in dataTable.Rows)
                    {
                        var model = new YourModel
                        {
                            Id = Convert.ToInt32(row["Id"]),
                            Name = row["Name"].ToString(),
                            // Map other properties
                        };

                        result.Add(model);
                    }
                }
            }
        }

        return result;
    }
