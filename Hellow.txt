<!-- custom-form.component.html -->
<mat-toolbar color="primary">
  <span>Create New Task</span>
</mat-toolbar>

<div class="form-container">
  <form [formGroup]="taskForm" (ngSubmit)="onSubmit()">
    <h2>Task Information</h2>
    <hr>
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Task Name/Number</mat-label>
      <input matInput formControlName="taskNameNumber">
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Type of Task</mat-label>
      <mat-select formControlName="taskType">
        <mat-option value="one">One</mat-option>
        <mat-option value="two">Two</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Version</mat-label>
      <mat-select formControlName="version">
        <mat-option value="v1">Version 1</mat-option>
        <mat-option value="v2">Version 2</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Task Description</mat-label>
      <textarea matInput formControlName="taskDescription"></textarea>
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Client Name</mat-label>
      <mat-select formControlName="clientName">
        <!-- Options will be populated dynamically -->
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Project Manager</mat-label>
      <input matInput formControlName="projectManager">
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Contract Number</mat-label>
      <input matInput formControlName="contractNumber">
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Task Type</mat-label>
      <mat-select formControlName="taskTypeDropdown">
        <mat-option value="type1">Type 1</mat-option>
        <mat-option value="type2">Type 2</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-checkbox formControlName="isReplacementTask">Is this a replacement task?</mat-checkbox>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Vendor</mat-label>
      <mat-select formControlName="vendor">
        <!-- Options will be populated dynamically -->
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Expected Scan Rate</mat-label>
      <input matInput formControlName="expectedScanRate">
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Idle Time</mat-label>
      <input matInput formControlName="idleTime">
    </mat-form-field>

    <mat-radio-group formControlName="payType">
      <mat-radio-button value="time">Time</mat-radio-button>
      <mat-radio-button value="flat">Flat</mat-radio-button>
    </mat-radio-group>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Project Status</mat-label>
      <mat-select formControlName="projectStatus">
        <mat-option value="active">Active</mat-option>
        <mat-option value="inactive">Inactive</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Lock Status</mat-label>
      <input matInput formControlName="lockStatus" disabled>
    </mat-form-field>

    <h2>Planning</h2>
    <hr>
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Estimated Coll Time</mat-label>
      <input matInput formControlName="estimatedCollTime">
    </mat-form-field>

    <mat-checkbox formControlName="popRequired">POP Required</mat-checkbox>
    <mat-checkbox formControlName="multiWeek">Multi-week</mat-checkbox>
    <mat-checkbox formControlName="multiVisit">Multi-visit</mat-checkbox>

    <div class="button-container">
      <button mat-raised-button color="primary" type="submit">Submit</button>
      <button mat-raised-button color="warn" type="button" (click)="onCancel()">Cancel</button>
    </div>
  </form>
</div>


implements OnInit {
  taskForm: FormGroup;

  constructor(private fb: FormBuilder) { }

  ngOnInit(): void {
    this.taskForm = this.fb.group({
      taskNameNumber: [''],
      taskType: [''],
      version: [''],
      taskDescription: [''],
      clientName: [''],
      projectManager: [''],
      contractNumber: [''],
      taskTypeDropdown: [''],
      isReplacementTask: [false],
      vendor: [''],
      expectedScanRate: [''],
      idleTime: [''],
      payType: ['time'],
      projectStatus: [''],
      lockStatus: [{ value: '', disabled: true }],
      estimatedCollTime: [''],
      popRequired: [false],
      multiWeek: [false],
      multiVisit: [false]
    });

    // Populate clientName and vendor dropdowns dynamically if needed
  }

  onSubmit(): void {
    if (this.taskForm.valid) {
      console.log(this.taskForm.value);
    }
  }

  onCancel(): void {
    this.taskForm.reset();
  }


/* custom-form.component.css */
.form-container {
  padding: 20px;
  max-width: 1200px;
  margin: auto;
}

.full-width {
  width: 100%;
}

.button-container {
  margin-top: 20px;
  display: flex;
  justify-content: space-between;
}

h2 {
  margin-top: 20px;
}
