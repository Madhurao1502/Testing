            <!-- Conditional Fields Based on Schedule Type -->
            <ng-container [ngSwitch]="scheduleForm.value.scheduleType">
              <ng-container *ngSwitchCase="3">
                <mat-form-field appearance="fill">
                  <mat-label>Select Weeks</mat-label>
                  <mat-select formControlName="selectedWeeks" multiple>
                    <mat-option *ngFor="let week of weeks" [value]="week.StartWeek">
                      {{ week.StartWeek }} ({{ week.StartDate }} - {{ week.endDate }})
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </ng-container>
              <ng-container *ngSwitchDefault>
                <mat-form-field appearance="fill">
                  <mat-label>Start Week</mat-label>
                  <mat-select formControlName="startWeek">
                    <mat-option *ngFor="let week of weeks" [value]="week.StartWeek">
                      {{ week.StartWeek }} ({{ week.StartDate }})
                    </mat-option>
                  </mat-select>
                </mat-form-field>

                <mat-form-field appearance="fill">
                  <mat-label>End Week</mat-label>
                  <mat-select formControlName="endWeek" [disabled]="scheduleForm.value.noEndWeek">
                    <mat-option *ngFor="let week of filteredEndWeeks" [value]="week.StartWeek">
                      {{ week.StartWeek }} ({{ week.endDate }})
                    </mat-option>
                  </mat-select>
                </mat-form-field>

                <mat-checkbox formControlName="noEndWeek">No End Week</mat-checkbox>
              </ng-container>
            </ng-container>

            <!-- New Schedule Every Field -->
            <mat-form-field appearance="fill">
              <mat-label>Schedule this task every</mat-label>
              <input matInput formControlName="scheduleEvery" type="number" [min]="2" [max]="51" />
            </mat-form-field>

            <mat-form-field appearance="fill">
              <mat-label>Select Vendor(s)</mat-label>
              <mat-select formControlName="vendor" multiple>
                <mat-option *ngFor="let vendor of vendors" [value]="vendor.value">
                  {{ vendor.label }}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <!-- Conditional Vendor Selections Based on Sample Type -->
            <ng-container [ngSwitch]="scheduleForm.value.sampleType">
              <ng-container *ngSwitchCase="'ROT'">
                <div *ngFor="let vendorId of scheduleForm.value.vendor">
                  <mat-form-field appearance="fill">
                    <mat-label>Select Rotation for Vendor {{ vendorId }}</mat-label>
                    <mat-select (selectionChange)="onRotationChange($event.value, vendorId)" [(value)]="selectedRotations[vendorId]">
                      <mat-option *ngFor="let rotation of getUniqueRotations()" [value]="rotation">
                        {{ rotation }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </ng-container>
              <ng-container *ngSwitchCase="'FIX'">
                <div *ngFor="let vendorId of scheduleForm.value.vendor">
                  <mat-form-field appearance="fill">
                    <mat-label>Select Sample for Vendor {{ vendorId }}</mat-label>
                    <mat-select (selectionChange)="onFixedSampleChange($event.value, vendorId)" [(value)]="selectedFixedSamples[vendorId]">
                      <mat-option *ngFor="let sample of samples" [value]="sample.SampleName">
                        {{ sample.SampleName }}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
              </ng-container>
            </ng-container>
