import { Component } from '@angular/core';

@Component({
  selector: 'app-root',
  templateUrl: './app.component.html'
})
export class AppComponent {
  availableItems = [
    { Name: 'SomeName', ID: 123, Key: 1 },
    { Name: 'SomeName1', ID: 1234, Key: 2 },
    { Name: 'SomeName2', ID: 1235, Key: 3 },
    { Name: 'SomeName3', ID: 1236, Key: 5 }
  ];

  selectedItems: any[] = [];
  selectedAvailableKeys = new Set<number>();
  selectedSelectedKeys = new Set<number>();

  toggleAvailable(key: number) {
    if (this.selectedAvailableKeys.has(key)) {
      this.selectedAvailableKeys.delete(key);
    } else {
      this.selectedAvailableKeys.add(key);
    }
  }

  toggleSelected(key: number) {
    if (this.selectedSelectedKeys.has(key)) {
      this.selectedSelectedKeys.delete(key);
    } else {
      this.selectedSelectedKeys.add(key);
    }
  }

  addItems() {
    const itemsToAdd = this.availableItems.filter(item =>
      this.selectedAvailableKeys.has(item.Key)
    );
    this.selectedItems.push(...itemsToAdd);
    this.availableItems = this.availableItems.filter(item =>
      !this.selectedAvailableKeys.has(item.Key)
    );
    this.selectedAvailableKeys.clear();
  }

  removeItems() {
    const itemsToRemove = this.selectedItems.filter(item =>
      this.selectedSelectedKeys.has(item.Key)
    );
    this.availableItems.push(...itemsToRemove);
    this.selectedItems = this.selectedItems.filter(item =>
      !this.selectedSelectedKeys.has(item.Key)
    );
    this.selectedSelectedKeys.clear();
  }
}
